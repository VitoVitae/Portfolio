# R1.04 - Système TP10

    fichier : - rwx rwx rwx
    répertoire : d rwx rwx rwx
    lien : l rwx rwx rwx 
              U   G   O
    
    r = 2*2; w = 2*1; x = 2*0; 

    User
    Group
    Other

## Etape 1 : Droit Unix Expérimentation

| Nom | Afficher | Modifier | Exécuter |
|:----|:---------|:---------|:---------|
| f1  | UGO      | UG       |          |
| f2  | UG       | U        |          |
| f3  | UGO      |          | U        |
| f4  | UO       | U        | UGO      |
| f5  | UO       | G        | UO       |

| Nom | lister   | Modifier | Aller    |
|:----|:---------|:---------|:---------|
| d1  | Oui      | non      | Oui      |
| d2  | Oui      | non      | non      |
| d3  | non      | non      | Oui      |
| d4  | non      | non      | non      |
| d5  | Oui      | non      | non      |

## Etape 2 : Droits Unix Le cours

    drwxr-xr-x 2 makervadec INFO-1 4096 nov. 24 11:40 src
    -rw-r--r-- 2 makervadec INFO-1 0 nov. 24 11:40 test.txt

- src et test.txt sont les noms des objets du FS
- nov. 24 11:40 est leur date+heure de dernière modification .3
- 4096 et 0 sont les tailles des objets .
- makervadec l'Utilisateur propriétaire
- Info-1 le groupe propriétaire
- la partie rwx est la permission

<b>id</b> : commande qui donne le groupe

<b>ls -n</b> : affiche les id des propriétaires au lieu des noms 

Le x est nécessaire pour avoir des actions sur le fichier comme le déplacer comme rm mais pas nécessaire pour faire ls sur un dossier. Tant qu'il faut traversé le dossier, il faut le x. exemple : dossier/fic

les actions concernées par le droit w sur un dossier sont d’autoriser ou non :

- la création d’un fichier ou d’un dossier à l’intérieur du dossier.
- la suppression d’un fichier ou d’un dossier (vide) à l’intérieur du dossier
- le renommage d’un fichier ou d’un dossier

### Ajouter des droits

Avec le +

#### Global

    chmod +x fichier
    chmod +wx fichier

#### Par cible

    chmod u+x fichier
    chmod go+wx fichier

### Supprimer des droits

Avec le -

#### Global

    chmod -x fichier
    chmod -wx, +r fichier

#### Par cible

    chmod u-x fichier
    chmod go-wx,u-w fichier

### Affecter des droits

Avec le = 

chmod u=rw fichier
chmod ug=x fichier
chmod u=r, g=w fichier

### Avec la syntaxe numérique

    r = 4
    w = 2
    x = 1

    rw = 4 + 2 = 6
    rwx = 4 + 2 + 1 = 7

chmod 642 fichier

<b>chown</b> : change de propriétaire

> chown nv_utilisateur objet

<b>chprg</b> : change de groupe

> chgrp nv_groupe objet

| Nom | Droits    | Propriétaire | Groupe           | UGO | Conclusion |
|:----|:----------|:-------------|:-----------------|:----|:-----------|
| f1  | rw-rw-r-- | gquiniou     | INFO-1           | G   | rw         |
| f2  | rw-r----- | nerzic       | INFO-Enseignants | O   |            |
| f3  | r-xr--r-- | gquiniou     | INFO-1           | G   | r          |
| f4  | rwx--xr-x | nerzic       | ENS_Unix         | O   | rx         |
| f5  | r-x-w-r-x | gquiniou     | INFO-1           | G   | rx         |

| Nom | Droits     | Propriétaire | Groupe   | UGO | Conclusion |
|:----|:-----------|:-------------|:---------|:----|:-----------|
| d1  | drwxrw-r-x | gquiniou     | ENS_Unix | O   | rx         |
| d2  | drwxr--r-x | gquiniou     | INFO-1   | G   | r          |
| d3  | drwxr-x--x | gquiniou     | ENS_Unix | O   | x          |
| d4  | drwx---r-x | gquiniou     | INFO-1   | G   | rx         |
| d5  | drwxrwxrw- | gquiniou     | ENS_Unix | O   | rw         |
